<div id="<%= dom_id(tweet) %>" class="col-span-1" data-controller="embedded-tweet" data-embedded-tweet-id-value="<%= tweet.tweet_id %>">
  
  <div data-embedded-tweet-target="loadingContainer">
    <div class="border border-blue-300 shadow rounded-md p-4 max-w-sm w-full mx-auto">
      <div class="animate-pulse flex space-x-4">
        <div class="rounded-full bg-slate-200 h-10 w-10"></div>
        <div class="flex-1 space-y-6 py-1">
          <div class="h-2 bg-slate-200 rounded"></div>
          <div class="space-y-3">
            <div class="grid grid-cols-3 gap-4">
              <div class="h-2 bg-slate-200 rounded col-span-2"></div>
              <div class="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div class="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="<%= tweet.tweet_id %>" data-embedded-tweet-target="container">
  </div>
  <div class="flex space-x-2 text-sm justify-between">
    <span class="inline-flex items-center rounded-full <%= tweet.retweet_count > 0 ? 'bg-blue-100' : 'bg-gray-100' %> px-2.5 py-0.5 text-xs font-medium <%= tweet.retweet_count > 0 ? 'text-blue-600' : 'text-gray-600' %>">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
        <path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd" />
      </svg>

      <span class="ml-2"><%= tweet.retweet_count %></span>
    </span>

    <span class="inline-flex items-center rounded-full <%= tweet.like_count > 0 ? 'bg-pink-100' : 'bg-gray-100' %> px-2.5 py-0.5 text-xs font-medium <%= tweet.like_count > 0 ? 'text-pink-600' : 'text-gray-600' %>">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
        <path d="M9.653 16.915l-.005-.003-.019-.01a20.759 20.759 0 01-1.162-.682 22.045 22.045 0 01-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 018-2.828A4.5 4.5 0 0118 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 01-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 01-.69.001l-.002-.001z" />
      </svg>
      <span class="ml-2"><%= tweet.like_count %></span>
    </span>

    <span class="inline-flex items-center rounded-full <%= tweet.quote_count > 0 ? 'bg-indigo-100' : 'bg-gray-100' %> px-2.5 py-0.5 text-xs font-medium <%= tweet.quote_count > 0 ? 'text-indigo-600' : 'text-gray-600' %>">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
        <path d="M3.505 2.365A41.369 41.369 0 019 2c1.863 0 3.697.124 5.495.365 1.247.167 2.18 1.108 2.435 2.268a4.45 4.45 0 00-.577-.069 43.141 43.141 0 00-4.706 0C9.229 4.696 7.5 6.727 7.5 8.998v2.24c0 1.413.67 2.735 1.76 3.562l-2.98 2.98A.75.75 0 015 17.25v-3.443c-.501-.048-1-.106-1.495-.172C2.033 13.438 1 12.162 1 10.72V5.28c0-1.441 1.033-2.717 2.505-2.914z" />
        <path d="M14 6c-.762 0-1.52.02-2.271.062C10.157 6.148 9 7.472 9 8.998v2.24c0 1.519 1.147 2.839 2.71 2.935.214.013.428.024.642.034.2.009.385.09.518.224l2.35 2.35a.75.75 0 001.28-.531v-2.07c1.453-.195 2.5-1.463 2.5-2.915V8.998c0-1.526-1.157-2.85-2.729-2.936A41.645 41.645 0 0014 6z" />
      </svg>

      <span class="ml-2"><%= tweet.quote_count %></span>
    </span>

    <span class="inline-flex items-center rounded-full <%= tweet.impression_count > 0 ? 'bg-amber-100' : 'bg-gray-100' %> px-2.5 py-0.5 text-xs font-medium <%= tweet.impression_count > 0 ? 'text-amber-600' : 'text-gray-600' %>">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
        <path d="M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" />
        <path fill-rule="evenodd" d="M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
      </svg>

      <span class="ml-2"><%= tweet.impression_count %></span>
    </span>
  </div>
  <%= form_with model: [tweet.topic, TweeterIgnoreRule.new], class: "mt-2" do |f| %>
    <%= f.hidden_field :author_id, value: tweet.author_id %>
    <button type="submit" class="inline-flex w-full justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500">Ignore tweets from this user</button>
  <% end %>
</div>
